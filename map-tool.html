<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ì£¼ì†Œâ†’ì¢Œí‘œ</title>
<!-- Geocoding ëª¨ë“ˆ ì¶”ê°€ë¨! í´ë¼ì´ì–¸íŠ¸ IDì™€ SECRET ëª¨ë‘ í¬í•¨ -->
<script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=q581f6wc1o&ncpClientSecret=0W7Ouyl18C6u2N8B5gJ93MQfj0za0feYNLYOYF6c&submodules=geocoder"></script>
<style>
* {margin:0;padding:0;box-sizing:border-box;}
body {font-family:'Segoe UI',sans-serif;padding:20px;max-width:600px;margin:auto;}
#map {width:100%;height:400px;border-radius:12px;margin:20px 0;}
input {width:100%;padding:15px;border:2px solid #ddd;border-radius:8px;font-size:16px;}
button {width:100%;background:#03c75a;color:white;border:none;padding:15px;border-radius:8px;font-size:16px;font-weight:500;cursor:pointer;margin:10px 0;}
button:hover {background:#04d764;}
button:disabled {background:#ccc;cursor:not-allowed;}
.result {background:#f0f9f4;padding:20px;border-radius:12px;border-left:5px solid #03c75a;}
.coords {background:#333;color:#0f0;padding:12px;border-radius:6px;font-family:monospace;word-break:break-all;margin:10px 0;}
.warning {background:#fff3cd;padding:15px;border-radius:8px;border-left:5px solid #ffc107;margin:20px 0;color:#856404;}
</style>
</head>
<body>
<h1 style="color:#03c75a;margin-bottom:20px;">ğŸ“ ì£¼ì†Œ â†’ ì¢Œí‘œ ë³€í™˜</h1>

<div class="warning">
âš ï¸ <strong>ë³´ì•ˆ ì£¼ì˜:</strong> <code>ncpClientSecret</code>ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. 
<strong>ì‹¤ì œ ë°°í¬ì‹œì—ëŠ” ë³¸ì¸ì˜ ë„¤ì´ë²„ í´ë¼ìš°ë“œ í”Œë«í¼ì—ì„œ ë°œê¸‰ë°›ì€ Client Secretìœ¼ë¡œ êµì²´</strong>í•˜ì„¸ìš”.
<br>ë„¤ì´ë²„ í´ë¼ìš°ë“œ ì½˜ì†” â†’ My Project â†’ Maps API â†’ Client Secret í™•ì¸
</div>

<input id="address" placeholder="ì˜ˆ: ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123">
<button onclick="findCoords()">ğŸ” ì¢Œí‘œ ì°¾ê¸° & ë³µì‚¬</button>
<div id="map"></div>
<div id="result" style="display:none;" class="result">
<strong>âœ… ì¢Œí‘œ ë³µì‚¬ ì™„ë£Œ!</strong><br>
<div id="coords" class="coords"></div>
<small>ë…¸ì…˜ Lat/Lngì— ë¶™ì—¬ë„£ê¸°: <code>37.5665</code> <code>126.9780</code></small>
</div>

<script>
const urlParams=new URLSearchParams(location.search);
const addr=urlParams.get('address');
if(addr) {
  document.getElementById('address').value=decodeURIComponent(addr);
  setTimeout(findCoords,1000);
}

function findCoords() {
  const address=document.getElementById('address').value.trim();
  if(!address) return alert('ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”!');
  
  const btn=document.querySelector('button');
  btn.disabled=true;
  btn.innerHTML='â³ ì°¾ëŠ”ì¤‘...';
  
  // Geocoding ì„œë¹„ìŠ¤ í˜¸ì¶œ (Client Secretì´ í¬í•¨ëœ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œë¨)
  naver.maps.Service.geocode({
    query: address
  }, function(status, response) {
    btn.disabled=false;
    btn.innerHTML='ğŸ” ì¢Œí‘œ ì°¾ê¸° & ë³µì‚¬';
    
    if(status === naver.maps.Service.Status.OK) {
      const result=response.v2.addresses[0];
      const lat=parseFloat(result.y);
      const lng=parseFloat(result.x);
      showMap(lat, lng, result.roadAddress || result.jibunAddress);
      copyToClipboard(lat, lng);
    } else {
      alert('ì£¼ì†Œ ì°¾ê¸° ì‹¤íŒ¨!\në„ë¡œëª…ì£¼ì†Œë¡œ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.\n\nì˜ˆ: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123"\n\nClient Secretì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.');
    }
  });
}

function showMap(lat, lng, addressName) {
  const mapContainer = document.getElementById('map');
  const mapOption = {
    center: new naver.maps.LatLng(lat, lng),
    zoom: 17
  };
  const map = new naver.maps.Map(mapContainer, mapOption);
  
  new naver.maps.Marker({
    position: new naver.maps.LatLng(lat, lng),
    map: map
  });
}

function copyToClipboard(lat, lng) {
  const text=`${lat.toFixed(6)},${lng.toFixed(6)}`;
  navigator.clipboard.writeText(text).then(()=>{
    document.getElementById('coords').textContent=text;
    document.getElementById('result').style.display='block';
    document.getElementById('result').scrollIntoView();
  }).catch(()=>{
    prompt('ì§ì ‘ ë³µì‚¬:',text);
  });
}

document.getElementById('address').addEventListener('keypress',e=>{
  if(e.key==='Enter') findCoords();
});
</script>
</body>
</html>
