<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>주소→좌표 (네이버 - 구주소 지원)</title>
</head>
<body>
<input id="address" placeholder="구주소/도로명 모두 OK">
<button onclick="findCoords()">좌표 찾기</button>
<div id="coords" style="display:none;"></div>

<script>
const script = document.createElement('script');
script.src = 'https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=q581f6wc1o&ncpClientSecret=0W7Ouyl18C6u2N8B5gJ93MQfj0za0feYNLYOYF6c&submodules=geocoder';
script.async = true;
document.head.appendChild(script);

async function findCoords() {
  const address = document.getElementById('address').value.trim();
  if (!address) return alert('주소 입력!');
  
  if (!window.naver?.maps?.Service) {
    alert('네이버 API 로딩중...');
    return;
  }
  
  naver.maps.Service.geocode({
    query: address
  }, function(status, response) {
    if (status === naver.maps.Service.Status.OK) {
      const result = response.v2.addresses[0];
      const coords = `${result.y},${result.x}`;
      document.getElementById('coords').textContent = coords;
      document.getElementById('coords').style.display = 'block';
      navigator.clipboard.writeText(coords);
    } else {
      alert('실패: ' + status);
    }
  });
}
</script>
</body>
</html>
